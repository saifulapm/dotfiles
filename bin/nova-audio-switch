#!/bin/bash
# Cycle through audio output sinks

sinks=($(pactl list short sinks | awk '{print $2}'))
current=$(pactl get-default-sink)

for i in "${!sinks[@]}"; do
    if [[ "${sinks[$i]}" == "$current" ]]; then
        next=${sinks[$(( (i + 1) % ${#sinks[@]} ))]}
        pactl set-default-sink "$next"
        desc=$(pactl list sinks | grep -A1 "Name: $next" | grep Description | cut -d: -f2 | xargs)
        notify-send "Audio Output" "$desc"
        exit 0
    fi
done
